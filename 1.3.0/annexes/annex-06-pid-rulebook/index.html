
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>PID Rule Book - EUDI Wallet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pid-rule-book" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EUDI Wallet" class="md-header__button md-logo" aria-label="EUDI Wallet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9zm0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EUDI Wallet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PID Rule Book
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  EUDI Wallet

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../arf/" class="md-tabs__link">
        
  
    
  
  Architecture and reference framework

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EUDI Wallet" class="md-nav__button md-logo" aria-label="EUDI Wallet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9zm0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5z"/></svg>

    </a>
    EUDI Wallet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EUDI Wallet
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture and reference framework
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1 Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-scope" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Scope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-key-words" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Key words
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-terminology" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Terminology
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-pid-attribute-schema" class="md-nav__link">
    <span class="md-ellipsis">
      2 PID attribute schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 PID attribute schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-overview" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-document-type-and-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Document type and namespace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 Document type and namespace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-eu-wide-document-type-and-namespace-for-pid-attestation" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 EU-wide document type and namespace for PID attestation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-domestic-pid-namespaces-for-national-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 Domestic PID namespaces for national attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-pid-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 PID attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 PID attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-overview" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-date-of-birth-related-data-elements" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 Date of birth-related data elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#234-place-of-birth-related-data-elements" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 Place of birth-related data elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#235-address-related-data-elements" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.5 Address-related data elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#236-nationality-citizenship" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.6 Nationality / Citizenship
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-pid-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 PID metadata
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 PID metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-overview" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-validity-status-information" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Validity status information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-pid-data-element-encodings" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 PID data element encodings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.5 PID data element encodings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#251-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#252-isoiec-18013-5-compliant-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.2 ISO/IEC 18013-5-compliant encoding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.5.2 ISO/IEC 18013-5-compliant encoding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2521-encoding-rules" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.2.1 Encoding rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2522-further-stipulations" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.2.2 Further stipulations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#253-sd-jwt-compliant-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.3 SD-JWT-compliant encoding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.5.3 SD-JWT-compliant encoding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2531-encoding-rules" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.3.1 Encoding rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2532-further-stipulations" class="md-nav__link">
    <span class="md-ellipsis">
      2.5.3.2 Further stipulations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-wallet-instance-attestation-attribute-schema" class="md-nav__link">
    <span class="md-ellipsis">
      3 Wallet Instance attestation attribute schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Wallet Instance attestation attribute schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-document-type-and-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Document type and namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Data model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-trust-infrastructure-details" class="md-nav__link">
    <span class="md-ellipsis">
      4 Trust infrastructure details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Trust infrastructure details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-isoiec-18013-5-compliant-pid-attestations" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 ISO/IEC 18013-5-compliant PID attestations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 ISO/IEC 18013-5-compliant PID attestations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-oids-for-use-in-pid-related-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 OIDs for use in PID-related certificates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-trusted-issuer-list" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 Trusted Issuer List
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-sd-jwt-compliant-pid-attestations" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 SD-JWT-compliant PID attestations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-references" class="md-nav__link">
    <span class="md-ellipsis">
      5 References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="pid-rule-book">PID Rule Book</h1>
<p><em>for the EUDI Wallet ecosystem</em></p>
<p><em>November 2023</em>
<em>v1.0.0</em></p>
<p><em>This is a working document that holds no legal value</em> <em>and does not
reflect any common agreement or position of the co-legislators. It
presents a state-of-play of ongoing work of the eIDAS Expert Group. This
document is being continuously updated and should not be considered
final.</em></p>
<h2 id="1-introduction">1 Introduction</h2>
<h3 id="11-scope">1.1 Scope</h3>
<p>This document is the Person Identification Data (PID) Rule Book. It
contains requirements specific to the PID use case within the EUDI
Wallet. These requirements hold in addition to the requirements in the
Architecture Reference Framework (ARF), see [ARF]. Requirements in the
ARF hold <strong>for all</strong> use cases in the EUDI Wallet.</p>
<p>This PID Rule Book contains the following topics:</p>
<ul>
<li>Chapter 2 specifies the PID attribute schema. This describes the
    structure, the type, the entity identifiers, and the logical
    organization of the mandatory and optional attributes of the PID. It
    also describes how Member States can specify any possible national
    attributes. Two encodings for these attributes are specified, one
    compliant with [ISO18013-5], the other compliant with [SD-JWT].</li>
<li>Chapter 3 specifies the Wallet Instance attestation schema, which
    describes the same information for the Wallet Instance attestation
    signed by the Wallet Provider for each Wallet Instance. This
    information will be moved to another document in the future.</li>
<li>Chapter 4 specifies details about the trust infrastructure necessary
    for PID attestations, for both ISO/IEC 18013-5-compliant and
    SD-JWT-compliant encodings. This information may be moved to another
    document in the future.</li>
</ul>
<p>Further topics will be added if and when they are identified.</p>
<h3 id="12-key-words">1.2 Key words</h3>
<p>This document uses the capitalized key words 'SHALL', 'SHOULD' and 'MAY'
as specified in [RFC 2119], i.e., to indicate requirements,
recommendations and options specified in this document.</p>
<p>In addition, 'must' (non-capitalized) is used to indicate an external
constraint, i.e., a requirement that is not mandated by this document,
but, for instance, by an external document such as [ARF]. The word
'can' indicates a capability, whereas other words, such as 'will', and
'is' or 'are' are intended as statements of fact.</p>
<h3 id="13-terminology">1.3 Terminology</h3>
<p>This document uses the terminology specified in [ARF].</p>
<h2 id="2-pid-attribute-schema">2 PID attribute schema</h2>
<h3 id="21-overview">2.1 Overview</h3>
<p>This chapter describes the structure, type, data element identifiers and
logical organisation of the mandatory and optional attributes of the PID
attestation within the EUDI Wallet, as well as the PID metadata:</p>
<ul>
<li>
<p>Section 2.2 specifies the document type and namespace(s) for a PID
    attestation:</p>
<ul>
<li>
<p>Section 2.2.1 specifies the PID document type, as well as the
    EU-wide PID namespace within which the PID data elements defined
    in this document are specified.</p>
</li>
<li>
<p>Section 2.2.2 describes how Member States can specify national
    attributes by defining a domestic PID namespace.</p>
</li>
</ul>
</li>
<li>
<p>Section 2.3 specifies the set of data elements covering the PID
    attributes specified in [ARF].</p>
</li>
<li>
<p>Section 2.4 similarly specifies the set of data elements covering
    the PID metadata.</p>
</li>
<li>
<p>Section 2.5 specifies two different encodings for these data
    elements. The first encoding uses Concise Binary Object
    Representation (CBOR) and complies with ISO/IEC 18013-5:2021
    [ISO18013-5]. The second encoding uses JSON and complies with
    [SD-JWT] and [OpenID4VP].</p>
</li>
</ul>
<h3 id="22-document-type-and-namespace">2.2 Document type and namespace</h3>
<h4 id="221-eu-wide-document-type-and-namespace-for-pid-attestation">2.2.1 EU-wide document type and namespace for PID attestation</h4>
<p>The concepts of document type and namespace, and the way in which they
are used, are specified in ISO/IEC 18013-5. These concepts are used in
the same way in OpenID for Verifiable Presentations [OpenID4VP].</p>
<p>PID Providers SHALL use the document type "eu.europa.ec.eudi.pid.1" for
PID attestations. This value follows the recommendation in ISO/IEC
18013-5 to use the general format [Reverse Domain].[Domain Specific
Extension]. Since the European Commission controls the domain
ec.europa.eu, this document type value will not collide with any
document type potentially defined by other organisations. The version
number "1" in this document type MAY be used to distinguish between the
first version of the ISO-compliant PID attribute (defined in this
document) and any future version.</p>
<p>Similarly, PID Providers SHALL use the value "eu.europa.ec.eudi.pid.1"
for the namespace of the first version of the PID attributes and PID
metadata specified in sections 2.3 and 2.4<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. This namespace clearly
indicates that any data elements defined within it are Person
Identification Data specified in the context of the EUDI Wallet. Again,
the version number "1" allows for future extension(s) or change(s) of
the PID data elements defined the next section.</p>
<p>PID Providers SHALL use this document type and namespace for the ISO/IEC
18013-5 compliant data element encoding specified in section 2.5.2 and
for the SD-JWT-compliant encoding in section 2.5.3.</p>
<h3 id="222-domestic-pid-namespaces-for-national-attributes">2.2.2 Domestic PID namespaces for national attributes</h3>
<p>ISO/IEC 18013-5 specifies a mechanism called <strong>domestic namespaces</strong>,
allowing PID Providers to issue such national attributes to an EUDI
Wallet. To do so, a PID Provider SHALL define a domestic PID namespace.
Within that namespace, the PID Provider is free to define any attribute
it needs, for example, a national social security number or taxpayer
identification number (TIN).</p>
<p>If a PID Provider chooses to define a domestic namespace, it SHALL
append the applicable ISO 3166-1 alpha-2 country code or the ISO 3166-2
region code, separated by a period, to the EU-wide PID namespace,
excluding the version number. The PID Provider MAY include a version
number in the domestic namespace.</p>
<p>EXAMPLE: The first domestic PID namespace for Germany could be
"eu.europa.ec.eudi.pid.de.1".</p>
<p>PID Providers SHALL use the same domestic namespace for both ISO/IEC
18013-5-compliant PIDs and SD-JWT-compliant PIDs, see section 2.5.</p>
<p>A PID Provider that defines a domestic namespace SHALL publish the
namespace, including all data element identifiers, their definition,
presence and encoding format, on a website that is publicly available. A
central registry for such domestic namespace definitions MAY be
established in the future.</p>
<h3 id="23-pid-attributes">2.3 PID attributes</h3>
<h4 id="231-introduction">2.3.1 Introduction</h4>
<p>Data elements corresponding to the PID attributes specified in [ARF]
are defined in Table 1 in section 2.3.2. Data elements corresponding to
the PID metadata specified in [ARF] are defined in Table 2 in section
2.4.1.</p>
<p>Note that the metadata data elements defined in section 2.4.1 are
handled by PID Providers, PID Users and Relying Parties in exactly the
same way as the data elements corresponding to the PID attributes in
Table 1. There is no technical difference between these data elements.
The only reason to distinguish between PID attributes and PID metadata
is because the ARF makes this distinction.</p>
<p>Table 1 and Table 2 contain the following information:</p>
<ul>
<li>
<p>The first column of both tables lists all PID attributes and PID
    metadata (respectively) specified in section 5.1.1.1 of [ARF].</p>
</li>
<li>
<p>For each of these attributes and metadata, the second column
    specifies the identifiers of one or more corresponding data
    elements. In case more than one data element is specified for a
    single PID attribute or metadata, the reasons for this are explained
    in the subsection referenced in the first column. The data element
    identifiers in the second column SHALL be used in requests and
    responses according to [ISO18013-5] or [OpenID4VP], as
    applicable. There SHALL be at most one data element with the same
    data element identifier in each PID attribute.</p>
</li>
</ul>
<blockquote>
<p>NOTE: Data element values MAY be multi-value. If so, this is clearly
indicated.</p>
</blockquote>
<ul>
<li>
<p>The third column describes the meaning of the data element.</p>
</li>
<li>
<p>The fourth column specifies whether the presence of the element in a
    PID attribute is mandatory (M), or optional (O).</p>
</li>
</ul>
<blockquote>
<p>NOTE: If Table 1 or Table 2 indicates a data element as mandatory,
this solely means that the PID Provider SHALL ensure that this element
is present in the PID. It does not imply that a Relying Party is
required to request such a data element when interacting with the
Wallet Instance. Neither does it imply that the PID User cannot refuse
to release a mandatory data element if requested.</p>
</blockquote>
<ul>
<li>
<p>The fifth column indicates how the data elements SHALL be encoded,
    using the CDDL representation types defined in [RFC 8610]. Section
    2.5. specifies how these representation types SHALL be serialized
    into CBOR and JSON data structures, respectively. Note the
    following:</p>
<ul>
<li>
<p><code>tstr</code>, <code>uint</code>, <code>bstr</code>, <code>bool</code> and <code>tdate</code> are CDDL representation types
    defined in [RFC 8610].</p>
</li>
<li>
<p>All data elements having encoding format <code>tstr</code> SHALL have a
    maximum length of 150 characters.</p>
</li>
<li>
<p>This document specifies <code>full-date</code> as <code>full-date</code> = #6.1004(tstr),
    where tag 1004 is specified in [RFC 8943].</p>
</li>
<li>
<p>In accordance with [RFC 8949], section 3.4.1, a <code>tdate</code> data
    element shall contain a <code>date-time</code> string as specified in [RFC
    3339]. In accordance with [RFC 8943], a full-date data
    element shall contain a full-date string as specified in [RFC
    3339].</p>
</li>
<li>
<p>The following requirements SHALL apply to the representation of
    dates in data elements, unless otherwise indicated:</p>
<ul>
<li>
<p>Fractions of seconds SHALL NOT be used;</p>
</li>
<li>
<p>A local offset from UTC SHALL NOT be used; the time-offset
    defined in [RFC 3339] SHALL be to "Z".</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="232-overview">2.3.2 Overview</h4>
<table>
<thead>
<tr>
<th>PID attribute in [ARF]</th>
<th>Corresponding data element identifier(s)</th>
<th>Definition</th>
<th>Presence</th>
<th>Encoding format</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Current Family Name</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>family_name</code></td>
<td>Current last name(s) or surname(s) of the PID User.</td>
<td>M</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Current First Names</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>given_name</code></td>
<td>Current first name(s), including middle name(s), of the PID User.</td>
<td>M</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Date of Birth</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>(See section 2.3.3)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>birth_date</code></td>
<td>Day, month, and year on which the PID User was born.</td>
<td>M</td>
<td><code>full-date</code></td>
</tr>
<tr>
<td></td>
<td><code>age_over_18</code></td>
<td>Attesting whether the PID User is currently an adult (true) or a minor (false).</td>
<td>O</td>
<td><code>bool</code></td>
</tr>
<tr>
<td></td>
<td><code>age_over_NN</code></td>
<td>Additional current age attestations, NN &lt;&gt; 18.</td>
<td>O</td>
<td><code>bool</code></td>
</tr>
<tr>
<td></td>
<td><code>age_in_years</code></td>
<td>The current age of the PID User in years.</td>
<td>O</td>
<td><code>uint</code></td>
</tr>
<tr>
<td></td>
<td><code>age_birth_year</code></td>
<td>The year when the PID User was born.</td>
<td>O</td>
<td><code>uint</code></td>
</tr>
<tr>
<td><strong>Family Name at Birth</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>family_name_birth</code></td>
<td>Last name(s) or surname(s) of the PID User at the time of birth.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>First Names at Birth</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>given_name_birth</code></td>
<td>First name(s), including middle name(s), of the PID User at the time of birth.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Current Family Name</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>family_name</code></td>
<td>Current last name(s) or surname(s) of the PID User.</td>
<td>M</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Place of Birth</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>(See section 2.3.4)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>birth_place</code></td>
<td>The country, state, and city where the PID User was born.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>birth_country</code></td>
<td>The country where the PID User was born, as an Alpha-2 country code as specified in ISO 3166-1.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>birth_state</code></td>
<td>The state, province, district, or local area where the PID User was born.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>birth_city</code></td>
<td>The municipality, city, town, or village where the PID User was born.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Current Address</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>(See section 2.3.5)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>resident_address</code></td>
<td>The full address of the place where the PID User currently resides and/or can be contacted (street name, house number, city etc.).</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_country</code></td>
<td>The country where the PID User currently resides, as an Alpha-2 country code as specified in ISO 3166-1.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_state</code></td>
<td>The state, province, district, or local area where the PID User currently resides.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_city</code></td>
<td>The municipality, city, town, or village where the PID User currently resides.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_postal_code</code></td>
<td>Postal code of the place where the PID User currently resides.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_street</code></td>
<td>The name of the street where the PID User currently resides.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td></td>
<td><code>resident_house_number</code></td>
<td>The house number where the PID User currently resides, including any affix or suffix.</td>
<td>O</td>
<td><code>tstr</code></td>
</tr>
<tr>
<td><strong>Gender</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>gender</code></td>
<td>PID User’s gender, using a value as defined in ISO/IEC 5218.</td>
<td>O</td>
<td>uint</td>
</tr>
<tr>
<td><strong>Nationality / Citizenship</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>(See section 2.3.6)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>nationality</code></td>
<td>Alpha-2 country code as specified in ISO 3166-1, representing the nationality of the PID User.</td>
<td>O</td>
<td>Nationality, see section 2.3.6</td>
</tr>
</tbody>
</table>
<p><em>Table 1 PID attributes and corresponding data elements</em></p>
<h4 id="233-date-of-birth-related-data-elements">2.3.3 Date of birth-related data elements</h4>
<p>[ARF] specifies 'Date of Birth' as a mandatory data element in a PID
attribute. This document defines the following data elements related to
this PID attribute:</p>
<ul>
<li><code>birth_date</code> (mandatory)</li>
<li><code>age_birth_year</code> (optional)</li>
<li><code>age_in_years</code> (optional)</li>
<li><code>age_over_18</code> (optional)</li>
<li><code>age_over_NN</code>, NN \&lt;&gt; 18 (optional)</li>
</ul>
<p>Having multiple data elements instead of a single one allows having
different levels of granularity for requests and responses, and thus
allows issuers and Relying Parties to practice data minimization. For
example, in some use cases, a Relying Party only needs to establish that
the PID User is not a minor. In that case, requesting age_over_18
suffices. Releasing more specific information, such as the PID User's
age in years or birth year, would then constitute an unnecessary
infringement of the User's privacy.</p>
<p>This document specifies age_over_18 and other age_over_NN data
elements as optional data elements. PID Providers are free to add more
age_over_NN data elements.</p>
<p>The requirements in clause 7.2.5 of ISO/IEC 18013-5 SHALL be applicable
for the age_over_18 and age_over_NN data element in the PID set.
This document affirms that issuing more (rather than fewer)
age_over_NN data elements in a PID is beneficial for the PID User's
privacy. Note that the usage of the age_over_NN data element is more
complicated than it may look at first sight. The examples in ISO/IEC
18013-5 Annex D.2.2 will help to understand how the age_over_NN data
element is to be used and interpreted.</p>
<h4 id="234-place-of-birth-related-data-elements">2.3.4 Place of birth-related data elements</h4>
<p>[ARF] specifies 'Place of Birth' as an optional data element in a PID
attribute. This document defines the following data elements related to
this PID attribute:</p>
<ul>
<li>birth_place (optional)</li>
<li>birth_country (optional)</li>
<li>birth_state (optional)</li>
<li>birth_city (optional)</li>
</ul>
<p>Having multiple data elements instead of a single one allows having
different levels of granularity for requests and responses, and thus
allows issuers and Relying Parties to practice data minimization.</p>
<h4 id="235-address-related-data-elements">2.3.5 Address-related data elements</h4>
<p>[ARF] specifies 'Current Address' as an optional data element in the
PID set. This document defines a number of current address-related data
elements:</p>
<ul>
<li>resident_address (optional)</li>
<li>resident_country (optional)</li>
<li>resident_state (optional)</li>
<li>resident_city (optional)</li>
<li>resident_postal_code (optional)</li>
<li>resident_street (optional)</li>
<li>resident_house_number (optional)</li>
</ul>
<p>Having multiple data elements instead of a single one allows different
levels of granularity for requests and responses, and thus allows
issuers and Relying Parties to practice data minimisation. For example,
in some contexts a RP must verify only that the PID User is a resident
of a certain country. Releasing more specific address information such
as state, city or postal code would then constitute an unnecessary
infringement of the User's privacy.</p>
<p>Note that in most cases requesting a PID User's resident street and
house number will not make sense without simultaneously requesting at
least the resident city, as there will be many duplicate street names
and house numbers in a given country. These data elements have been
added primarily to assist in, for example, automated form filling.</p>
<h4 id="236-nationality-citizenship">2.3.6 Nationality / Citizenship</h4>
<p>The ARF specifies 'Nationality / Citizenship' as a possible additional
optional data element in the PID set and notes that this is potentially
a multi-valued attribute, because a citizen can have more than one
nationality.</p>
<p>This document defines a data element nationality taking as its value a
single Alpha-2 country code. This implies that any additional
nationality of the PID User must be added by the respective Member State
as a domestic data element, see section 2.2.2. This possibility is also
recognized in [ARF].</p>
<h3 id="24-pid-metadata">2.4 PID metadata</h3>
<h4 id="241-overview">2.4.1 Overview</h4>
<p>Section 5.1.1 of [ARF] says: "Metadata associated with the PID may
additionally detail the date of issuance and/or expiration, the issuing
authority and/or Member State, information necessary to perform holder
binding and/or proof of possession, <em>the information or location of the
services that can be used to enquire about the validity status of</em> and
potentially more information."</p>
<p>The first column of Table 2 contains all the PID metadata identified in
the quote above. The meaning of the remaining columns is explained in
section 2.3.1.</p>
<table>
<thead>
<tr>
<th>PID metadata in [ARF]</th>
<th>ISO-compliant data element identifier</th>
<th>Definition</th>
<th>Presence</th>
<th>Encoding format</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Date of issuance</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>issuance_date</td>
<td>Date (and possibly time) when the PID was issued.</td>
<td>M</td>
<td>tdate or full-date</td>
</tr>
<tr>
<td><strong>Date of expiration</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>expiry_date</td>
<td>Date (and possibly time) when the PID will expire.</td>
<td>M</td>
<td>tdate or full-date</td>
</tr>
<tr>
<td><strong>Issuing authority</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>issuing_authority</td>
<td>Name of the administrative authority that has issued this PID instance, or the ISO 3166 Alpha-2 country code of the respective Member State if there is no separate authority authorized to issue PIDs.</td>
<td>M</td>
<td>tstr</td>
</tr>
<tr>
<td></td>
<td>document_number</td>
<td>A number for the PID, assigned by the PID Provider.</td>
<td>O</td>
<td>tstr</td>
</tr>
<tr>
<td></td>
<td>administrative_number</td>
<td>A number assigned by the PID Provider for audit control or other purposes.</td>
<td>O</td>
<td>tstr</td>
</tr>
<tr>
<td><strong>Member State</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>issuing_country</td>
<td>Alpha-2 country code, as defined in ISO 3166-1, of the PID Provider’s country or territory.</td>
<td>M</td>
<td>tstr</td>
</tr>
<tr>
<td></td>
<td>issuing_jurisdiction</td>
<td>Country subdivision code of the jurisdiction that issued the PID, as defined in ISO 3166-2:2020, Clause 8. The first part of the code SHALL be the same as the value for issuing_country.</td>
<td>O</td>
<td>tstr</td>
</tr>
<tr>
<td><strong>Validity status location information</strong></td>
<td></td>
<td>To be decided</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Table 2 PID metadata and corresponding data elements</em></p>
<h4 id="242-validity-status-information">2.4.2 Validity status information</h4>
<blockquote>
<p>NOTE: PID revocation will be further detailed in a future version of
ARF. Probably validity status information will not be included in the
PID metadata, but rather in the cryptographic proof structures, i.e.,
the MSO for ISO-compliant PIDSs and the SD-JWT for SD-JWT-compliant
PIDs.</p>
</blockquote>
<h3 id="25-pid-data-element-encodings">2.5 PID data element encodings</h3>
<h4 id="251-introduction">2.5.1 Introduction</h4>
<p>Requirement 6 in section 5.1.2 of the ARF specifies that PID attestation
must be issued in accordance with both the data model specified in
ISO/IEC 18013-5:2021 [ISO18013-5] and the W3C Verifiable Credentials
Data Model 1.1. Requirements 7 and 8 make clear that for the latter
encoding, Selective Disclosure JSON Web Tokens (SD-JWT), as specified in
[SD-JWT], must be used, and that consequently, data elements must be
encoded in JSON. For the former, data elements must be encoded in CBOR.</p>
<p>This section therefore specifies two separate encodings for the PID data
model, an ISO/IEC 18013-5-compliant encoding in CBOR, and a
SD-JWT-compliant encoding in JSON.</p>
<h4 id="252-isoiec-18013-5-compliant-encoding">2.5.2 ISO/IEC 18013-5-compliant encoding</h4>
<h5 id="2521-encoding-rules">2.5.2.1 Encoding rules</h5>
<p>If data elements specified in in Table 1 or Table 2 are encoded with
CBOR, they SHALL be encoded as specified in [RFC 8949].</p>
<p>The CDDL representation types used in Table 1 and Table 2 are specified
in section 2.3.1. Rules to encode CDDL representation types with CBOR
are specified [RFC 8610] and [RFC 8949].</p>
<h5 id="2522-further-stipulations">2.5.2.2 Further stipulations</h5>
<p>The value of all data elements (both PID attributes and PID metadata)
SHALL be valid at the value of the timestamp in the validFrom element in
the MSO from ISO/IEC 18013-5 clause 9.1.2.4<sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup>.</p>
<blockquote>
<p>NOTE: The value of the age_over_18, age_over_NN and age_in_years
data elements, if present, changes whenever the PID User has a
birthday. The value of many other data elements will also change over
time. It is up to the PID Provider to ensure that the above
requirement is complied with. This document does not require that an
issuer issues a new PID as soon as it becomes aware of a change in the
PID User's data.</p>
</blockquote>
<p>The issue_date data element (Table 2) SHALL NOT be later than the
validFrom element in the MSO, as defined in clause 9.1.2.4 of ISO/IEC
18013-5.</p>
<p>If the Relying Party retrieved the issuing_country data element (Table
2), it SHALL verify that the value of that element matches the
countryName element in the Subject field within the Document Signer
certificate; see ISO/IEC 18013-5 Annex B.</p>
<p>If the Relying Party retrieved the issuing_jurisdiction data element
(Table 2), it SHALL verify that the value of that element matches the
stateOrProvinceName element, if it is present in the Subject field
within the Document Signer certificate; see ISO/IEC 18013-5 Annex B.</p>
<p>Data elements in Table 1 and Table 2 SHALL be released only as Issuer
Signed Items, as specified in [ISO/IEC 18013-5]. This means that these
data elements SHALL be signed by the PID Provider, not by the Wallet
Instance.</p>
<p>At the discretion of the PID Provider, domestic data elements (see
section 2.2.2) MAY be signed either by the PID Provider or by the Wallet
Instance.</p>
<h4 id="253-sd-jwt-compliant-encoding">2.5.3 SD-JWT-compliant encoding</h4>
<h5 id="2531-encoding-rules">2.5.3.1 Encoding rules</h5>
<p>If data elements are encoded with JSON, they SHALL be encoded as
specified in [RFC 8259].</p>
<p>The CDDL representation types used in Table 1 and Table 2 are specified
in section 2.3.1. Rules to encode CDDL representation types with JSON
are specified in [RFC 8949] section 6.1 Given the CDDL representation
types used in the current version of this document, the following rules
are relevant:</p>
<ul>
<li>A CDDL uint (i.e., an unsigned integer) becomes a JSON number.</li>
<li>A CDDL bstr (i.e., a byte string) is encoded in base64url without
    padding and becomes a JSON string.</li>
<li>A CDDL tstr (i.e., a UTF-8 text string) becomes a JSON string<sup id="fnref:7"><a class="footnote-ref" href="#fn:7">7</a></sup>.</li>
<li>A CDDL bool (i.e., a Boolean) becomes a JSON false or a JSON true,
    as applicable.</li>
<li>A CDDL tdate or full-date (which is a tagged item or 'tag') becomes
    a JSON string representing the content of the tag; the tag number is
    ignored.</li>
</ul>
<p>Although not used in the current version of this document, the following
CDDL representation types are frequently used in general, and hence
rules to encode them with JSON may become relevant in future versions:</p>
<ul>
<li>A CDDL array (i.e., a structure enclosed in square brackets [ ])
    becomes a JSON array.</li>
<li>A CDDL nint (i.e., a negative integer) becomes a JSON number.</li>
<li>A CDDL map (i.e., a structure enclosed in curly brackets { })
    becomes a JSON object. Since this is possible directly only if all
    keys are UTF-8 strings, any CDDL maps defined in future versions of
    this document SHALL only use keys that are UTF-8 strings.</li>
</ul>
<p>If other CDDL representation types will be used in future versions of
this document, the corresponding rules for encoding them with JSON will
be added here.</p>
<h5 id="2532-further-stipulations">2.5.3.2 Further stipulations</h5>
<p>Data elements in Table 1 and Table 2 SHALL be released only in a VP
Token, as specified in [OpenID4VP]. This means that these data
elements SHALL be signed by the PID Provider, not by the Wallet
Instance.</p>
<p>At the discretion of the PID Provider, domestic data elements (see
section 2.2.2) MAY be released in either a VP Token or an ID Token.</p>
<h2 id="3-wallet-instance-attestation-attribute-schema">3 Wallet Instance attestation attribute schema</h2>
<blockquote>
<p>NOTE: the information in this chapter does not pertain to the PID
directly. It will be included in a separate Wallet Attestation
Rulebook, to be detailed in a future version of ARF.</p>
</blockquote>
<h3 id="31-introduction">3.1 Introduction</h3>
<p>The Trust Model [TrustModel] introduces the concept of a Wallet
Instance Attestation issued by the Wallet Provider for each Wallet
Instance.</p>
<h3 id="32-document-type-and-namespace">3.2 Document type and namespace</h3>
<p>Like any other attestation, a Wallet Instance Attestation needs a
document type and a namespace. The document type
"eu.europa.ec.eudi.wallet-instance.1" SHALL be used for this purpose,
and the namespace "eu.europa.ec.eudi.wallet-instance.1" SHALL be used to
identify data elements in this Wallet Instance Attestation.</p>
<h3 id="33-data-model">3.3 Data model</h3>
<p>Please note that there currently is no specification of a Wallet
Instance Attestation and the attributes in it, either within the context
of the EUDI Wallet or in an international standard or specification.
Once this is available, a corresponding data model will be added in this
section, comparable to the one for the PID in chapter 2.</p>
<h2 id="4-trust-infrastructure-details">4 Trust infrastructure details</h2>
<h3 id="41-introduction">4.1 Introduction</h3>
<p>To trust a signature over a PID attestation, the RP needs a mechanism to
validate that the public key it uses to verify that signature is
trusted. Both ISO/IEC 18013-5 and OpenID4VP provide such mechanisms.
However, in both cases, additional details need to be specified to fully
specify these mechanisms for PID attestations within the EUDI Wallet
ecosystem.</p>
<h3 id="42-isoiec-18013-5-compliant-pid-attestations">4.2 ISO/IEC 18013-5-compliant PID attestations</h3>
<h4 id="421-oids-for-use-in-pid-related-certificates">4.2.1 OIDs for use in PID-related certificates</h4>
<p>ISO/IEC 18013-5 specifies an X.509-based PKI for the purpose of trusting
public keys. This PKI has multiple roots; there is an independent
(self-signed) root certificate for every issuer. Annex B of the standard
specifies the formats of the X.509 certificates for all participants in
the ecosystem.</p>
<p>These certificate formats are mDL-specific, but only because they use
the following Object Identifier (OID): id-mdl OBJECT IDENTIFIER ::= {
iso(1) standard(0) 18013 5 }<sup id="fnref:8"><a class="footnote-ref" href="#fn:8">8</a></sup>, as well as a number of child OIDs
('arcs') of this OID, see Annex B.1.1 of ISO/IEC 18013-5. All other
aspects of these certificate profiles can be used for any type of mobile
document complying with the security mechanisms defined in ISO/IEC
18013-5, including a PID attestation within the EUDI Wallet ecosystem.</p>
<p>To make the certificate profiles applicable for PIDs in ISO/IEC
18013-5-compliant EUDI Wallets, this document specifies the following
OIDs (in ASN.1 notation):</p>
<ul>
<li>id-eudi OBJECT IDENTIFIER ::= {european-commission 2}</li>
</ul>
<p>- -- arc for EUDI Wallets</p>
<ul>
<li>id-eudi-iso OBJECT IDENTIFIER ::= {id-eudi 0}</li>
</ul>
<p>- - arc for ISO/IEC 18013-5-compliant EUDI Wallets<sup id="fnref:9"><a class="footnote-ref" href="#fn:9">9</a></sup></p>
<ul>
<li>
<p>id-eudi-iso-pid OBJECT IDENTIFIER ::= {id-eudi-iso 0} -- arc for PID
    attributes within ISO-compliant EUDI Wallets</p>
</li>
<li>
<p>id-eudi-iso-pid-kp OBJECT IDENTIFIER ::= {id- eudi-iso-pid 1}</p>
</li>
</ul>
<p>- - arc for extended key purposes within certificates used for PID
attributes within ISO-compliant EUDI Wallets</p>
<ul>
<li>id-eudi-iso-pid-kp-DS OBJECT IDENTIFIER ::= {id-eudi-iso-pid-kp 2}</li>
</ul>
<p>- - arc for document signer certificates, used by PID Providers</p>
<ul>
<li 6="6" id-eudi-iso-pid-kp="id-eudi-iso-pid-kp">id-eudi-iso-pid-kp-ReaderAuth OBJECT IDENTIFIER ::=</li>
</ul>
<p>- - arc for mdoc reader authentication certificates, used by Relying
Parties requesting PIDs<sup id="fnref:10"><a class="footnote-ref" href="#fn:10">10</a></sup></p>
<ul>
<li 4="4" id-eudi-iso-pid-kp="id-eudi-iso-pid-kp">id-eudi-iso-pid-kp-IACALink OBJECT IDENTIFIER ::=</li>
</ul>
<p>- - arc for IACA Link certificates, used by PID Providers</p>
<ul>
<li>id-eudi-iso-pid-kp-IACA OBJECT IDENTIFIER ::= {id-eudi-iso-pid-kp 7}</li>
</ul>
<p>-- - arc for IACA Root certificates, used by PID Providers</p>
<p>These OIDs SHALL be used in certificates used for PID attributes within
the ISO-compliant EUDI Wallet ecosystem, in exactly the same way as the
corresponding OIDs specified in ISO/IEC 18103-5 are used within the
mobile driving license ecosystem.</p>
<p>Notes:</p>
<ul>
<li>
<p>The numbers for the various extended key purposes are taken from
    ISO/IEC 18013-5.</p>
</li>
<li>
<p>These new OIDs will have to be officially registered.</p>
</li>
<li>
<p>The OID european-commission is already registered:
    european-commission ::= {iso(1) identified-organization(3)
    european-commission(130)}. The respective Registration Authority for
    this OID will have to be consulted to get approval for the proposed
    addition of an arc for the EUDI Wallet.</p>
</li>
</ul>
<h4 id="422-trusted-issuer-list">4.2.2 Trusted Issuer List</h4>
<p>Section 4.2.2. of [TrustModel] describes the concept of a trusted list
of Issuers. This document specifies that for PID attestations, such a
trusted list SHALL be used. Relying Parties SHALL only trust PID issuers
that are included in a trusted list of PID Providers. Additionally,
there SHALL be only a single trusted list of PID Providers, which SHALL
be generated and maintained by a yet-to-be-determined party. This list
SHALL also contain the (root) certificate(s) of each PID Provider.</p>
<p>Regarding the format of this trusted list, the format specified ETSI TS
119 612 v2.1.1 SHALL be used.</p>
<h3 id="43-sd-jwt-compliant-pid-attestations">4.3 SD-JWT-compliant PID attestations</h3>
<blockquote>
<p>NOTE: Details on the trust infrastructure for SD-JWT and
OpenID4VP-compliant PIDs will be detailed in a future version of ARF. </p>
</blockquote>
<h2 id="5-references">5 References</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>[ARF]</td>
<td>The Common Union Toolbox for a Coordinated Approach Towards a European Digital Identity Framework – The European Digital Identity Wallet Architecture and Reference Framework, November 2023, Version 1.2.0</td>
</tr>
<tr>
<td>[ISO18013-5]</td>
<td>ISO/IEC 18013-5, Personal identification — ISO-compliant driving licence — Part 5: Mobile driving licence (mDL) application, First edition, 2021-09</td>
</tr>
<tr>
<td>[SD-JWT]</td>
<td>Selective Disclosure for JWTs (SD-JWT)</td>
</tr>
<tr>
<td></td>
<td>draft-ietf-oauth-selective-disclosure-jwt-04, 11 April 2023 [1]</td>
</tr>
<tr>
<td></td>
<td>Retrievable from https://datatracker.ietf.org/doc/draft-ietf-oauth-selective-disclosure-jwt/</td>
</tr>
<tr>
<td>[OpenID4VP]</td>
<td>OpenID for Verifiable Presentations – draft 18, 21 April 2023 [2]</td>
</tr>
<tr>
<td></td>
<td>Retrievable from https://openid.net/specs/openid-4-verifiable-presentations-1_0.html</td>
</tr>
<tr>
<td>[2015/1505]</td>
<td>COMMISSION IMPLEMENTING DECISION (EU) 2015/1505</td>
</tr>
<tr>
<td></td>
<td>of 8 September 2015 laying down technical specifications and formats relating to trusted lists pursuant to Article 22(5) of Regulation (EU) No 910/2014 of the European Parliament and of the Council on electronic identification and trust services for electronic transactions in the internal market</td>
</tr>
<tr>
<td>[RFC 2119]</td>
<td>RFC 2119 - Key words for use in RFCs to Indicate Requirement LevelsS. Bradner, March 1997</td>
</tr>
<tr>
<td>[RFC 3339]</td>
<td>RFC 3339 - Date and Time on the Internet: Timestamps, G. Klyne et al., July 2002</td>
</tr>
<tr>
<td>[RFC 8259]</td>
<td>RFC 8259 - The JavaScript Object Notation (JSON) Data Interchange Format, T. Bray, Ed., December 2017</td>
</tr>
<tr>
<td>[RFC 8610]</td>
<td>RFC 8610 - Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures, H. Birkholz et al., June 2019</td>
</tr>
<tr>
<td>[RFC 8943]</td>
<td>RFC 8943 -Concise Binary Object Representation (CBOR) Tags for Date, M. Jones et al., November 2020</td>
</tr>
<tr>
<td>[RFC 8949]</td>
<td>RFC 8949 - Concise Binary Object Representation (CBOR), C. Bormann et al., December 2020</td>
</tr>
<tr>
<td>[TrustModel]</td>
<td>Trust Model for the EUDI Wallet Ecosystem – generic for all use cases, version 0.8.1, 2023-05-25</td>
</tr>
</tbody>
</table>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Note that the document type and namespace have the same value.
This is allowed according to ISO/IEC 18013-5.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Please note that the current specification does not yet foresee a
solution for the situation when the date of birth of the User is
incomplete or unknown. Work is ongoing to find a solution to this
scenario, in alignment with current implementation of eIDAS nodes.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>See footnote 2.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>Please note that the current specification does not yet foresee a
solution for the situation when the date of birth of the User is
incomplete or unknown. Work is ongoing to find a solution to this
scenario, in alignment with current implementation of eIDAS nodes.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>See footnote 2.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>As explained in [TrustModel], server retrieval, as specified in
ISO/IEC 18013-5, SHALL NOT be used for EUDI Wallets.&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>Note that JSON requires escaping certain characters ( ): quotation
mark (U+0022), reverse solidus (U+005C), and the \"C0 control
characters\" (U+0000 through U+001F). All other characters are
copied unchanged into the JSON UTF-8 string.&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>Note that this notation is incorrect. The <a href="http://oid-info.com/">http://oid-info.com/</a>
website officially registers this OID as {iso(1) standard(0)
driving-licence(18013) part-5(5)}. This does not impact the value of
the OID.&#160;<a class="footnote-backref" href="#fnref:8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:9">
<p>The presence of this arc allows SD-JWT-compliant implementations
of the EUDI Wallet to have their own arc 'next' to this one, if
necessary.&#160;<a class="footnote-backref" href="#fnref:9" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:10">
<p>Note that the use of this PID-specific OID implies that an mdoc
reader authentication certificate containing this OID cannot be used
to perform Relying Party authentication for any other type of
attestation within the EUDI Wallet. This is by design, as it seems
good for security to separate reader authentication per attestation
type. However, decisions regarding Relying Party authentication will
be detailed in a future version of ARF.&#160;<a class="footnote-backref" href="#fnref:10" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:11">
<p>The exact version to be referenced is to be determined. [ARF]
references v0.2 of 30 December 2022. v0.4 is the latest version
available at the time of writing of this document. The level of
interoperability between these versions is not known. As [SD-JWT]
is still under development, presumably later versions will become
available over time.&#160;<a class="footnote-backref" href="#fnref:11" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:12">
<p>The exact version to be referenced is to be determined. [ARF]
references v0.14 of 30 December 2022. Draft 18 is the latest version
available at the time of writing of this document. The level of
interoperability between these versions is not known. As
[OpenID4VP] is still under development, presumably later versions
will become available over time.&#160;<a class="footnote-backref" href="#fnref:12" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
<li id="fn:13">
<p>The exact version to be referenced is to be determined. [ARF]
references v0.2 of 30 December 2022. v0.4 is the latest version
available at the time of writing of this document. The level of
interoperability between these versions is not known. As [SD-JWT]
is still under development, presumably later versions will become
available over time.&#160;<a class="footnote-backref" href="#fnref:13" title="Jump back to footnote 13 in the text">&#8617;</a></p>
</li>
<li id="fn:14">
<p>The exact version to be referenced is to be determined. [ARF]
references v0.14 of 30 December 2022. Draft 18 is the latest version
available at the time of writing of this document. The level of
interoperability between these versions is not known. As
[OpenID4VP] is still under development, presumably later versions
will become available over time.&#160;<a class="footnote-backref" href="#fnref:14" title="Jump back to footnote 14 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>